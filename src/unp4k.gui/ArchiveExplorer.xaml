<Window x:Class="unp4k.gui.ArchiveExplorer"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:unp4k.gui"
        xmlns:model="clr-namespace:unp4k.gui.TreeModel"
        mc:Ignorable="d"
        Title="unp4k by /u/alluran"
		MinHeight="600"
		MinWidth="400"
		Height="600"
		Width="400"
		>
	<Window.Resources>
		<RoutedUICommand x:Key="OpenFile" Text="Open">
			<RoutedUICommand.InputGestures>
				<KeyGesture>CTRL+O</KeyGesture>
			</RoutedUICommand.InputGestures>
		</RoutedUICommand>
	</Window.Resources>
	<Window.CommandBindings>
		<CommandBinding Command="{StaticResource OpenFile}" Executed="mnuOpen_Executed"/>
	</Window.CommandBindings>
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="24"/>
			<RowDefinition Height="44"/>
			<RowDefinition Height="409*"/>
			<RowDefinition Height="24"/>
		</Grid.RowDefinitions>
		<DockPanel Margin="0,0,0.333,0" Grid.RowSpan="1">
			<Menu DockPanel.Dock="Top" Padding="2">
				<MenuItem Header="_Open" Command="{StaticResource OpenFile}" InputGestureText="Ctrl+O" />
			</Menu>
		</DockPanel>
		<StackPanel Grid.Row="1" Margin="0,0,0.333,10">
			<TextBox Height="23"
					 TextWrapping="NoWrap"
					 Text="Filter..."
					 Margin="10"
					 Padding="2"
					 Name="txtFilter"
					 GotFocus="txtFilter_GotFocus"
					 LostFocus="txtFilter_LostFocus"
					 TextChanged="txtFilter_TextChanged" />
		</StackPanel>
		<TreeView x:Name="trvFileExplorer" Margin="10,0,10,10" Grid.Row="2"
				  MouseDoubleClick="trvFileExplorer_MouseDoubleClick"
				  TreeViewItem.Expanded="trvFileExplorer_Expanded"
				  KeyDown="trvFileExplorer_KeyDown"
				  KeyUp="trvFileExplorer_KeyUp"
				  AllowDrop="True"
				  PreviewMouseDown="trvFileExplorer_PreviewMouseDown"
				  MouseMove="trvFileExplorer_MouseMove"
				  Drop="trvFileExplorer_Drop">
			<TreeView.ItemTemplate>
				<HierarchicalDataTemplate DataType="{x:Type model:TreeItem}" ItemsSource="{Binding Children}">
					<StackPanel Orientation="Horizontal" Margin="2">
						<Image Source="{Binding Icon}" Width="16" Height="16" SnapsToDevicePixels="True"/>
						<TextBlock Text="{Binding Title}" Margin="5,0"/>
					</StackPanel>
				</HierarchicalDataTemplate>
			</TreeView.ItemTemplate>
		</TreeView>

		<DockPanel Margin="0,0,0,0" Grid.Row="4">
			<StatusBar DockPanel.Dock="Bottom" VerticalAlignment="Bottom" Margin="0" Height="24" Padding="0">
				<ProgressBar Name="barProgress" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Height="16" Width="250" />
			</StatusBar>
		</DockPanel>
	</Grid>
</Window>
